<div class="job-item">
    <div class="progress-circle">
        <circle-progress
            [percent]="progress()"
            [radius]="30"
            [outerStrokeWidth]="7"
            [outerStrokeColor]="'#7270e6'"
            [animation]="true"
            [showSubtitle]="false"
            [innerStrokeColor]="'#e7e8ea'"
            [innerStrokeWidth]="7"
            [space]="-8"
            [animationDuration]="300"
            [lazy]="true"></circle-progress>
    </div>
    <div class="info">
        <div class="url">{{ jobUrl() }}</div>
        <span class="info-progress">Crawled: {{ job()?.processedUrls }} of {{ job()?.totalUrls }}</span>
    </div>
    <div class="status-wrapper">
        @if (job()?.status?.toLowerCase(); as status) {
        <span
            class="status"
            [ngClass]="{
                pending: status === 'pending',
                'in-progress': status === 'in_progress',
                scraped: status === 'scraped',
                canceled: status === 'canceled',
                error: status === 'error'
            }">
            {{ job()?.status?.replace('_', ' ') | titlecase }}
        </span>
        } @else { N/A }
    </div>
    <div class="action">
        @if (job()?.status?.toLowerCase() !== 'canceled') {
        <button
            mat-raised-button
            (click)="onCancelJob()">
            Cancel
            <mat-icon>cancel</mat-icon>
        </button>
        }
    </div>
</div>
